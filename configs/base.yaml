project:
  dataset: mrm8488/stackoverflow-ner
  seed: 13

data:
  max_length: 128
  label_all_tokens: false

data_prep:
  force_redownload: false
  oversample_factor: 1.5
  rare_boost: 0.5

weak:
  enabled: true
  dataset: bigcode/the-stack-github-issues
  sample_n: 100000
  max_len: 128
  min_len: 8
  weak_ratio: 0.30

train:
  epochs: 6
  lr: 2.0e-5
  weight_decay: 0.01
  warmup_ratio: 0.06
  batch_size: 16
  eval_batch_size: 16
  grad_accum: 1
  fp16: true
  tf32: true
  gradient_checkpointing: true
  logging_steps: 200
  save_total_limit: 2
  dataloader_num_workers: 4
  label_smoothing: 0.05
  lr_scheduler: cosine
  max_grad_norm: 1.0
  early_stopping_patience: 1
  early_stopping_threshold: 0.0
  metric_for_best_model: eval_f1
  greater_is_better: true
  group_by_length: true

model:
  hidden_dropout_prob: 0.1
  attention_probs_dropout_prob: 0.1
  classifier_dropout: 0.2
  dropout: 0.1
  attention_dropout: 0.1

lora:
  enabled: true
  r: 16
  alpha: 32
  dropout: 0.05
  bias: none
  target_modules: ["query", "key", "value", "dense"]
  modules_to_save: ["classifier"]
  lr: 1.0e-4
